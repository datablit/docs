import { Table } from "../../../../components/Table";

# Create New Signal

To create a new Signal, open the Signal Tab in Events section.

## Steps to Create a Signal

1. Click on the Add **Signal** button
2. Fill in the details to create signal instantly:

<Table
  columns={[
    { header: "PROPERTY", width: "20%" },
    { header: "TYPE", width: "15%" },
    { header: "REQUIRED", width: "10%" },
    { header: "DESCRIPTION", width: "50%" },
  ]}
  data={[
    [
      "Key",
      "String",
      "Yes",
      `Signal identifier. Use snake_case format and keep it concise to save space. 
      Example: Instead of 'user_order_count_last_24hour', use 'usr_order_cnt_24h'`,
    ],
    [
      "Entity Id Field",
      "String",
      "Yes",
      `Its grouping key on which you want aggreagation, eg. device_id, user_id, flight_id, 
      This will always be in snake case`,
    ],
    [
      "Description",
      "String",
      "No",
      `Description helps to understand the signal's purpose`,
    ],
    [
      "Tags",
      "Dropdown",
      "No",
      <>
        Tags to categorize signals. You can manage tags in the{" "}
        <a
          href={process.env.NEXT_PUBLIC_DATABLIT_CONSOLE_URL}
          className="text-blue-600 hover:text-blue-800 underline"
        >
          company profile section
        </a>
      </>,
    ],
    ["Type", "Dropdown", "Yes", `Choose either 'realtime' or 'batch'`],
  ]}
/>

### Realtime Signal Configuration

<Table
  columns={[
    { header: "PROPERTY", width: "20%" },
    { header: "TYPE", width: "15%" },
    { header: "REQUIRED", width: "10%" },
    { header: "DESCRIPTION", width: "50%" },
  ]}
  data={[
    [
      "Aggregation Window",
      "Dropdown",
      "Yes",
      `Time period for aggregation (e.g., 1 minute, 1 hour)`,
    ],
    [
      "Aggregation Type",
      "Dropdown",
      "Yes",
      <>
        Choose aggregation type. Supported values: Static, Count, Sum. See{" "}
        <a href="#realtime-aggregation-type">Realtime Aggregation Types</a> for
        details.
      </>,
    ],
    [
      "Aggregation Field",
      "String",
      "No",
      <>
        Aggregation Field (always in snake_case) used for static and sum aggregation
        types. See{" "}
        <a
          href={`${process.env.NEXT_PUBLIC_DOCS_BASE_PATH}/rule-signal/signal`}
        >
          Realtime Aggregation Types
        </a>{" "}
        and{" "}
        <a
          href={`${process.env.NEXT_PUBLIC_DOCS_BASE_PATH}/data-ingestion/event-properties-conversion`}
        >
          Event Property Conversion
        </a>{" "}
        for more information.
      </>,
    ],
    [
      "Filter Expression",
      "String",
      "Yes",
      <>
        Expression to filter events. For example, to count the{" "}
        <b>number of orders</b> where the order event is identified by event
        equals 'ORDER_PLACED', use the filter expression: event=='ORDER_PLACED'.
        Expression should always return true or false See{" "}
        <a
          href={`${process.env.NEXT_PUBLIC_DOCS_BASE_PATH}/rule-signal/logical-expression`}
        >
          Logical Expression
        </a>{" "}
        for syntax details.
      </>,
    ],
  ]}
/>

### Batch Signal Configuration

<Table
  columns={[
    { header: "PROPERTY", width: "20%" },
    { header: "TYPE", width: "15%" },
    { header: "REQUIRED", width: "10%" },
    { header: "DESCRIPTION", width: "50%" },
  ]}
  data={[
    [
      "Query",
      "String",
      "Yes",
      <>
        SQL query to be executed based on the provided schedule. This query must
        select a column named <b>user_id</b>.
        <br />
        <strong>Example:</strong> SELECT user_id, device_type FROM events WHERE
        type='track'
        <br />
        This will store the device type for each user.
      </>,
    ],
    [
      "Execution Frequency",
      "Dropdown",
      "Yes",
      `Its periodic interval at which you want to execute the sql query. 
      Depending on freshness requirement select values from 1hr tp 24hr`,
    ],
  ]}
/>

## Evaluate Signal

To evaluate a signal:

1. Click the three dots (â‹®) next to the signal in the signal list and select "Evaluate."
2. Enter the user_id value and submit.
3. The system will return the signal value for the specified user.
